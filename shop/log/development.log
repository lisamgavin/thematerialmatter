DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 22:39:15 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
Completed 500 Internal Server Error in 103ms

NoMethodError (undefined method `eq' for nil:NilClass):
  app/controllers/application_controller.rb:6:in `current_cart'
  app/controllers/orders_controller.rb:27:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2012-07-17 22:40:23 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
Rendered home/show.html.erb within layouts/application (52.2ms)
Completed 200 OK in 59ms (Views: 58.4ms | ActiveRecord: 0.0ms)


Started GET "/home/home" for 127.0.0.1 at 2012-07-17 22:40:30 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
  Parameters: {"id"=>"home"}
Rendered home/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:40:32 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products"[0m
SQLite3::SQLException: no such table: products: SELECT "products".* FROM "products"
Completed 500 Internal Server Error in 488ms

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: products: SELECT "products".* FROM "products"):
  app/models/product.rb:11:in `search'
  app/controllers/products_controller.rb:5:in `index'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (42.4ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (51.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)
  [1m[36mSQL (79.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (302.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (78.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateProducts (20120630155443)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.8ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "description" text, "image_url" varchar(255), "price" decimal(8,2), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120630155443')
Migrating to CreateCarts (20120630191124)
  [1m[36mSQL (0.5ms)[0m  [1mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120630191124')
Migrating to CreateLineItems (20120630194622)
  [1m[36mSQL (0.5ms)[0m  [1mCREATE TABLE "line_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer, "cart_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120630194622')
Migrating to AddQuantityToLineItem (20120630214606)
  [1m[36mSQL (16.3ms)[0m  [1mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120630214606')
Migrating to CombineItemsInCart (20120701000509)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120701000509')
Migrating to CreateOrders (20120707152640)
  [1m[36mSQL (0.6ms)[0m  [1mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" text, "email" varchar(255), "pay_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120707152640')
Migrating to AddOrderIdToLineItem (20120707152717)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "line_items" ADD "order_id" integer[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120707152717')
  [1m[36mSQL (0.4ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("carts")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("orders")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("products")


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:43:56 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products"
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 142 LIMIT 1
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-17 21:43:58.868758', '2012-07-17 21:43:58.868758')[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2166908000__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:33)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 1)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (159.0ms)
Rendered products/index.html.erb within layouts/application (286.4ms)
Completed 200 OK in 717ms (Views: 302.4ms | ActiveRecord: 2.0ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mAREL (0.7ms)[0m  DELETE FROM "products" WHERE 1=1
  [1m[36mAREL (0.6ms)[0m  [1mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES ('Wool and paper yarn', 'Hand-woven wool yarn with intertwined paper', 'yarn 1.jpg', 15.0, '2012-07-17 21:44:17.090156', '2012-07-17 21:44:17.090156')[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES ('Steel and linen yarn', 'Laser-cut steel yarn with strands of linen', 'rails.png', 12.0, '2012-07-17 21:44:17.525715', '2012-07-17 21:44:17.525715')
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES ('Paper and cotton yarn', 'Hand-woven paper yarn with intertwined paper', 'rails.png', 11.0, '2012-07-17 21:44:17.529547', '2012-07-17 21:44:17.529547')[0m
  [1m[35mAREL (0.3ms)[0m  INSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES ('Steel and silk yarn', 'Laser-cut steel yarn intertwined with delicate strands of silk', 'rails.png', 14.5, '2012-07-17 21:44:17.533562', '2012-07-17 21:44:17.533562')
  [1m[36mAREL (0.5ms)[0m  [1mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES ('Wool and bronze yarn', 'Hand-woven wool yarn with strands of bronze interwoven', 'rails.png', 13.0, '2012-07-17 21:44:17.536784', '2012-07-17 21:44:17.536784')[0m


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:44:21 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2157833580__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:33)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 1)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (3.0ms)
Rendered products/index.html.erb within layouts/application (117.2ms)
Completed 200 OK in 139ms (Views: 123.1ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 22:44:27 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 1) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (1, 1, '2012-07-17 21:44:27.519438', '2012-07-17 21:44:27.519438', 1, NULL)[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 206ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:44:27 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2167248020__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:33)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 1)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 1)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (6.7ms)
Rendered carts/_cart.html.erb (52.6ms)
Rendered products/index.html.erb within layouts/application (129.1ms)
Completed 200 OK in 149ms (Views: 132.7ms | ActiveRecord: 2.7ms)


Started POST "/carts/1" for 127.0.0.1 at 2012-07-17 22:44:31 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 1)
  [1m[36mAREL (0.3ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 1[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 1
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 81ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:44:31 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-17 21:44:31.558752', '2012-07-17 21:44:31.558752')
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2167314460__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:33)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.7ms)
Rendered products/index.html.erb within layouts/application (74.5ms)
Completed 200 OK in 103ms (Views: 80.3ms | ActiveRecord: 2.2ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 22:44:33 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 2) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (1, 2, '2012-07-17 21:44:33.612372', '2012-07-17 21:44:33.612372', 1, NULL)[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 86ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:44:33 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2166620900__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:33)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (13.0ms)
Rendered carts/_cart.html.erb (18.6ms)
Rendered products/index.html.erb within layouts/application (96.2ms)
Completed 200 OK in 115ms (Views: 99.6ms | ActiveRecord: 2.9ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 22:44:35 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
Rendered orders/_form.html.erb (106.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (22.7ms)
Rendered carts/_cart.html.erb (34.0ms)
Rendered orders/new.html.erb within layouts/application (149.8ms)
Completed 200 OK in 215ms (Views: 154.5ms | ActiveRecord: 1.2ms)


Started POST "/orders/thankyou" for 127.0.0.1 at 2012-07-17 22:44:39 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#thankyou as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "post"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
Rendered orders/thankyou.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 22:44:46 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 2) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2012-07-17 21:44:46.928441' WHERE "line_items"."id" = 2[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 58ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:44:46 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2154623420__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:33)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (43.8ms)
Rendered carts/_cart.html.erb (49.0ms)
Rendered products/index.html.erb within layouts/application (93.6ms)
Completed 200 OK in 113ms (Views: 97.2ms | ActiveRecord: 3.0ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 22:44:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 2) LIMIT 1[0m
  [1m[35mAREL (0.3ms)[0m  UPDATE "line_items" SET "quantity" = 3, "updated_at" = '2012-07-17 21:44:49.550042' WHERE "line_items"."id" = 2
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 80ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:44:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2167532240__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:33)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.6ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (12.6ms)
Rendered carts/_cart.html.erb (18.1ms)
Rendered products/index.html.erb within layouts/application (94.3ms)
Completed 200 OK in 113ms (Views: 97.7ms | ActiveRecord: 2.9ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 22:47:54 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
Rendered orders/_form.html.erb (3.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (28.6ms)
Rendered carts/_cart.html.erb (63.8ms)
Rendered orders/new.html.erb within layouts/application (75.5ms)
Completed 200 OK in 110ms (Views: 79.0ms | ActiveRecord: 1.2ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 22:48:03 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 2) LIMIT 1[0m
  [1m[35mAREL (15.0ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2012-07-17 21:48:04.097215' WHERE "line_items"."id" = 2
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 114ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:48:04 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2167787500__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:33)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (11.8ms)
Rendered carts/_cart.html.erb (16.5ms)
Rendered products/index.html.erb within layouts/application (91.8ms)
Completed 200 OK in 110ms (Views: 95.3ms | ActiveRecord: 17.4ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:53:41 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (19.5ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2164433200__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.5ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (67.2ms)
Rendered carts/_cart.html.erb (72.8ms)
Rendered products/index.html.erb within layouts/application (174.5ms)
Completed 200 OK in 747ms (Views: 209.2ms | ActiveRecord: 21.2ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:54:17 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (10.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2154001020__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:40)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (80.8ms)
Rendered carts/_cart.html.erb (86.0ms)
Rendered products/index.html.erb within layouts/application (172.7ms)
Completed 200 OK in 254ms (Views: 196.8ms | ActiveRecord: 11.9ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:55:12 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (30.8ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2164483420__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:40)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (45.3ms)
Rendered carts/_cart.html.erb (50.9ms)
Rendered products/index.html.erb within layouts/application (104.1ms)
Completed 200 OK in 205ms (Views: 129.2ms | ActiveRecord: 32.3ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:55:39 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (10.9ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2153789940__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:42)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (70.5ms)
Rendered carts/_cart.html.erb (77.2ms)
Rendered products/index.html.erb within layouts/application (123.7ms)
Completed 200 OK in 184ms (Views: 127.3ms | ActiveRecord: 12.3ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:55:53 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (12.0ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2153998020__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (101.7ms)
Rendered carts/_cart.html.erb (107.2ms)
Rendered products/index.html.erb within layouts/application (153.2ms)
Completed 200 OK in 235ms (Views: 157.1ms | ActiveRecord: 13.4ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 22:58:20 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (18.8ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___2816634166313349541_2154002180__3421333416155491179 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (48.9ms)
Rendered carts/_cart.html.erb (54.3ms)
Rendered products/index.html.erb within layouts/application (100.4ms)
Completed 200 OK in 173ms (Views: 104.1ms | ActiveRecord: 20.2ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 22:58:27 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
Rendered orders/_form.html.erb (3.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (61.0ms)
Rendered carts/_cart.html.erb (66.5ms)
Rendered orders/new.html.erb within layouts/application (80.2ms)
Completed 200 OK in 144ms (Views: 84.5ms | ActiveRecord: 1.3ms)


Started POST "/orders/thankyou" for 127.0.0.1 at 2012-07-17 22:58:30 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#thankyou as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "post"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
Rendered orders/thankyou.html.erb within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 23:00:00 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (31.8ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
Rendered orders/_form.html.erb (8.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (49.6ms)
Rendered carts/_cart.html.erb (55.1ms)
Rendered orders/new.html.erb within layouts/application (165.1ms)
Completed 200 OK in 260ms (Views: 169.2ms | ActiveRecord: 33.2ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 23:00:14 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (27.4ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
Rendered orders/_form.html.erb (3.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (55.2ms)
Rendered carts/_cart.html.erb (61.4ms)
Rendered orders/new.html.erb within layouts/application (74.6ms)
Completed 200 OK in 181ms (Views: 78.6ms | ActiveRecord: 28.6ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 23:01:55 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (14.8ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
Rendered orders/_form.html.erb (92.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (24.8ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (80.9ms)
Rendered carts/_cart.html.erb (92.9ms)
Rendered orders/new.html.erb within layouts/application (226.9ms)
Completed 200 OK in 421ms (Views: 207.2ms | ActiveRecord: 41.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 23:02:56 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
Rendered orders/_form.html.erb (3.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (28.8ms)
Rendered carts/_cart.html.erb (34.0ms)
Rendered orders/new.html.erb within layouts/application (46.7ms)
Completed 200 OK in 108ms (Views: 50.4ms | ActiveRecord: 1.1ms)


Started POST "/line_items?product_id=2" for 127.0.0.1 at 2012-07-17 23:08:43 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"2"}
  [1m[35mCart Load (16.3ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 2 AND ("line_items".cart_id = 2) LIMIT 1
  [1m[36mAREL (0.5ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (2, 2, '2012-07-17 22:08:43.893428', '2012-07-17 22:08:43.893428', 1, NULL)[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 336ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:08:43 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167974120__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.8ms)
Rendered carts/_cart.html.erb (19.7ms)
Rendered products/index.html.erb within layouts/application (99.8ms)
Completed 200 OK in 143ms (Views: 104.2ms | ActiveRecord: 19.7ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:08:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 2) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2012-07-17 22:08:49.748545' WHERE "line_items"."id" = 2[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 88ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:08:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2168099800__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.1ms)
Rendered carts/_cart.html.erb (18.3ms)
Rendered products/index.html.erb within layouts/application (95.9ms)
Completed 200 OK in 117ms (Views: 99.4ms | ActiveRecord: 3.3ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:10:55 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2156727680__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (43.7ms)
Rendered carts/_cart.html.erb (49.0ms)
Rendered products/index.html.erb within layouts/application (93.7ms)
Completed 200 OK in 145ms (Views: 97.1ms | ActiveRecord: 2.1ms)


Started GET "/products?utf8=%E2%9C%93&search_query=wqwe&commit=Search" for 127.0.0.1 at 2012-07-17 23:11:12 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  Parameters: {"utf8"=>"✓", "search_query"=>"wqwe", "commit"=>"Search"}
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE (title LIKE '%wqwe%')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2156635200__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (23.9ms)
Rendered carts/_cart.html.erb (29.3ms)
Rendered products/index.html.erb within layouts/application (84.5ms)
Completed 200 OK in 133ms (Views: 88.0ms | ActiveRecord: 2.1ms)


Started GET "/products?utf8=%E2%9C%93&search_query=wool&commit=Search" for 127.0.0.1 at 2012-07-17 23:11:44 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  Parameters: {"utf8"=>"✓", "search_query"=>"wool", "commit"=>"Search"}
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE (title LIKE '%wool%')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2166842980__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.8ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (45.2ms)
Rendered carts/_cart.html.erb (51.0ms)
Rendered products/index.html.erb within layouts/application (90.3ms)
Completed 200 OK in 110ms (Views: 93.9ms | ActiveRecord: 2.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-17 23:13:30 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
Rendered orders/_form.html.erb (4.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (62.0ms)
Rendered carts/_cart.html.erb (67.1ms)
Rendered orders/new.html.erb within layouts/application (80.2ms)
Completed 200 OK in 114ms (Views: 83.4ms | ActiveRecord: 1.6ms)


Started GET "/products?utf8=%E2%9C%93&search_query=wool&commit=Search" for 127.0.0.1 at 2012-07-17 23:14:55 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  Parameters: {"utf8"=>"✓", "search_query"=>"wool", "commit"=>"Search"}
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (title LIKE '%wool%')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167967180__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.3ms)
Rendered carts/_cart.html.erb (18.8ms)
Rendered products/index.html.erb within layouts/application (88.2ms)
Completed 200 OK in 107ms (Views: 91.4ms | ActiveRecord: 2.1ms)


Started GET "/products?utf8=%E2%9C%93&search_query=wool&commit=Search" for 127.0.0.1 at 2012-07-17 23:18:02 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  Parameters: {"utf8"=>"✓", "search_query"=>"wool", "commit"=>"Search"}
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE (title LIKE '%wool%')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167667960__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.2ms)
Rendered carts/_cart.html.erb (18.9ms)
Rendered products/index.html.erb within layouts/application (109.6ms)
Completed 200 OK in 130ms (Views: 112.8ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:18:20 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 2) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "line_items" SET "quantity" = 6, "updated_at" = '2012-07-17 22:18:21.048379' WHERE "line_items"."id" = 2[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 83ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:18:21 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167710040__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.8ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.8ms)
Rendered carts/_cart.html.erb (19.6ms)
Rendered products/index.html.erb within layouts/application (97.2ms)
Completed 200 OK in 117ms (Views: 100.6ms | ActiveRecord: 3.4ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:23:59 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167987100__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (12.9ms)
Rendered carts/_cart.html.erb (18.0ms)
Rendered products/index.html.erb within layouts/application (96.0ms)
Completed 200 OK in 115ms (Views: 99.3ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:24:06 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 28ms

NoMethodError (undefined method `quantity' for #<Product:0x00000102678330>):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (7.0ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (23.7ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:24:27 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167820320__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.1ms)
Rendered carts/_cart.html.erb (18.3ms)
Rendered products/index.html.erb within layouts/application (93.7ms)
Completed 200 OK in 113ms (Views: 96.9ms | ActiveRecord: 2.2ms)


Started GET "/products?utf8=%E2%9C%93&search_query=wool&commit=Search" for 127.0.0.1 at 2012-07-17 23:24:55 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  Parameters: {"utf8"=>"✓", "search_query"=>"wool", "commit"=>"Search"}
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE (title LIKE '%wool%')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167505060__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.0ms)
Rendered carts/_cart.html.erb (18.1ms)
Rendered products/index.html.erb within layouts/application (86.9ms)
Completed 200 OK in 106ms (Views: 90.2ms | ActiveRecord: 1.9ms)


Started GET "/home/home" for 127.0.0.1 at 2012-07-17 23:25:01 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
  Parameters: {"id"=>"home"}
Rendered home/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:25:02 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167931800__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (12.9ms)
Rendered carts/_cart.html.erb (18.3ms)
Rendered products/index.html.erb within layouts/application (116.4ms)
Completed 200 OK in 135ms (Views: 119.6ms | ActiveRecord: 2.1ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:25:36 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2167908140__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.4ms)
Rendered carts/_cart.html.erb (19.0ms)
Rendered products/index.html.erb within layouts/application (95.7ms)
Completed 200 OK in 115ms (Views: 98.7ms | ActiveRecord: 2.3ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:25:57 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3750411171359059024_2164824300__3580629947794171128 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.5ms)
Rendered carts/_cart.html.erb (18.9ms)
Rendered products/index.html.erb within layouts/application (95.5ms)
Completed 200 OK in 115ms (Views: 98.7ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:26:19 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 26ms

NoMethodError (undefined method `quantity' for #<Product:0x000001026814d0>):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.9ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:26:51 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__2009890036566130396_2160356680_2830978839438892271 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.3ms)
Rendered carts/_cart.html.erb (19.4ms)
Rendered products/index.html.erb within layouts/application (147.9ms)
Completed 200 OK in 264ms (Views: 151.9ms | ActiveRecord: 2.5ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:30:34 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__2009890036566130396_2161438300_2830978839438892271 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.4ms)
Rendered carts/_cart.html.erb (18.6ms)
Rendered products/index.html.erb within layouts/application (94.8ms)
Completed 200 OK in 114ms (Views: 98.3ms | ActiveRecord: 1.8ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:31:02 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (24.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__2009890036566130396_2166963860_2830978839438892271 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.2ms)
Rendered carts/_cart.html.erb (18.2ms)
Rendered products/index.html.erb within layouts/application (97.1ms)
Completed 200 OK in 144ms (Views: 100.5ms | ActiveRecord: 26.1ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2012-07-17 23:31:18 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
Rendered home/show.html.erb within layouts/application (5.2ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:31:22 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2163286460_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (7.5ms)
Rendered carts/_cart.html.erb (20.1ms)
Rendered products/index.html.erb within layouts/application (109.8ms)
Completed 200 OK in 191ms (Views: 113.3ms | ActiveRecord: 2.5ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:33:00 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2163237660_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (60.0ms)
Rendered carts/_cart.html.erb (65.9ms)
Rendered products/index.html.erb within layouts/application (135.3ms)
Completed 200 OK in 201ms (Views: 139.6ms | ActiveRecord: 2.1ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:33:14 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2163203880_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (42.7ms)
Rendered carts/_cart.html.erb (47.9ms)
Rendered products/index.html.erb within layouts/application (92.6ms)
Completed 200 OK in 138ms (Views: 95.9ms | ActiveRecord: 2.2ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:33:46 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2161984580_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (63.6ms)
Rendered carts/_cart.html.erb (73.4ms)
Rendered products/index.html.erb within layouts/application (127.0ms)
Completed 200 OK in 160ms (Views: 130.4ms | ActiveRecord: 2.3ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:35:52 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2168545180_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (44.2ms)
Rendered carts/_cart.html.erb (49.5ms)
Rendered products/index.html.erb within layouts/application (94.4ms)
Completed 200 OK in 114ms (Views: 97.8ms | ActiveRecord: 2.1ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:36:48 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2170340980_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.4ms)
Rendered carts/_cart.html.erb (48.6ms)
Rendered products/index.html.erb within layouts/application (93.6ms)
Completed 200 OK in 113ms (Views: 96.9ms | ActiveRecord: 2.1ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:37:02 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 42ms

NameError (undefined local variable or method `quantity' for #<LineItemsController:0x00000101947468>):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (18.2ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:38:23 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2160656700_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (12.9ms)
Rendered carts/_cart.html.erb (18.0ms)
Rendered products/index.html.erb within layouts/application (70.3ms)
Completed 200 OK in 120ms (Views: 73.9ms | ActiveRecord: 2.1ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:48:19 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (23.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
ERROR: compiling _app_views_products_index_html_erb___898722455712286189_2171551220_215029317096101576 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:39: unknown regexp options - tabl
unmatched close parenthesis: /tr>
'); end 
@output_buffer.safe_concat('</
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41: syntax error, unexpected tIDENTIFIER, expecting ')'
... products_path, :method => 'get' do 
...                               ^
unmatched close parenthesis: /p>
'); end 
@output_buffer.safe_concat('

<br /
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:51: syntax error, unexpected tCONSTANT, expecting ')'
...t_buffer.append= ( link_to 'New Product', new_product_path )...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:51: unterminated string meets end of file
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:51: syntax error, unexpected $end, expecting ')'
Function body:           def _app_views_products_index_html_erb___898722455712286189_2171551220_215029317096101576(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "products/index";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p>

<h1>Listing products</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th></th>
    <th>Price/m<sup>2</sup></td></th>
    <th></th>
    <th></th>
     <th></th>
    <th>Quantity</th>
  </tr>

');@output_buffer.append_if_string=  @products.each do |product| 
@output_buffer.safe_concat('  <tr class="productbuttons">
    <td>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( product.description );@output_buffer.safe_concat('</td>
    <td class="picture">');@output_buffer.append= ( link_to image_tag(product.image_url), line_items_path(:product_id=> product), :method => :post );@output_buffer.safe_concat('</td>

    
    <td class="price">');@output_buffer.append= ( number_to_currency(product.price, :unit => '€') );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <td>');@output_buffer.append= ( link_to 'Show', product );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Edit', edit_product_path(product) );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete );@output_buffer.safe_concat('</td>
    <form>');@output_buffer.append= ( number_field_tag 'quantity', nil, :size => 1, :min => 1% input id="quantity"></td>
    		
    		

    
    
    
  	<td class="cartbutton"><%= button_to 'Add to Cart', line_items_path(:product_id=> product) );@output_buffer.safe_concat('</td>
 
  </tr>
'); end 
@output_buffer.safe_concat('</table>

');@output_buffer.append_if_string=  form_tag products_path, :method => 'get' do 
@output_buffer.safe_concat('	<p>
		');@output_buffer.append= ( text_field_tag :search_query, params[:search_query] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( submit_tag "Search", :title => nil );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
'); end 
@output_buffer.safe_concat('

<br />

');@output_buffer.append= ( link_to 'New Product', new_product_path );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/products_controller.rb:8:in `index'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__484876301727666655__process_action__3170403809467826430__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered products/index.html.erb within layouts/application (254.5ms)
Completed 500 Internal Server Error in 299ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:39: unknown regexp options - tabl
unmatched close parenthesis: /tr>
'); end 
@output_buffer.safe_concat('</
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41: syntax error, unexpected tIDENTIFIER, expecting ')'
... products_path, :method => 'get' do 
...                               ^
unmatched close parenthesis: /p>
'); end 
@output_buffer.safe_concat('

<br /
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:51: syntax error, unexpected tCONSTANT, expecting ')'
...t_buffer.append= ( link_to 'New Product', new_product_path )...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:51: unterminated string meets end of file
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:51: syntax error, unexpected $end, expecting ')'):
    36:  
    37:   </tr>
    38: <% end %>
    39: </table>
    40: 
    41: <% form_tag products_path, :method => 'get' do %>
    42: 	<p>
  app/controllers/products_controller.rb:8:in `index'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (50.5ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (56.8ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:48:41 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
ERROR: compiling _app_views_products_index_html_erb___898722455712286189_2154915760_215029317096101576 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...:size => 1, :min => 1% input id="quantity");@output_buffer.s...
...                               ^
Function body:           def _app_views_products_index_html_erb___898722455712286189_2154915760_215029317096101576(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "products/index";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p>

<h1>Listing products</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th></th>
    <th>Price/m<sup>2</sup></td></th>
    <th></th>
    <th></th>
     <th></th>
    <th>Quantity</th>
  </tr>

');@output_buffer.append_if_string=  @products.each do |product| 
@output_buffer.safe_concat('  <tr class="productbuttons">
    <td>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( product.description );@output_buffer.safe_concat('</td>
    <td class="picture">');@output_buffer.append= ( link_to image_tag(product.image_url), line_items_path(:product_id=> product), :method => :post );@output_buffer.safe_concat('</td>

    
    <td class="price">');@output_buffer.append= ( number_to_currency(product.price, :unit => '€') );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <td>');@output_buffer.append= ( link_to 'Show', product );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Edit', edit_product_path(product) );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete );@output_buffer.safe_concat('</td>
    <form>');@output_buffer.append= ( number_field_tag 'quantity', nil, :size => 1, :min => 1% input id="quantity");@output_buffer.safe_concat('</td>
    		
    		

    
    
    
  	<td class="cartbutton">');@output_buffer.append= ( button_to 'Add to Cart', line_items_path(:product_id=> product) );@output_buffer.safe_concat('</td>
 
  </tr>
'); end 
@output_buffer.safe_concat('</table>

');@output_buffer.append_if_string=  form_tag products_path, :method => 'get' do 
@output_buffer.safe_concat('	<p>
		');@output_buffer.append= ( text_field_tag :search_query, params[:search_query] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( submit_tag "Search", :title => nil );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
'); end 
@output_buffer.safe_concat('

<br />

');@output_buffer.append= ( link_to 'New Product', new_product_path );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/products_controller.rb:8:in `index'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__484876301727666655__process_action__3170403809467826430__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered products/index.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 21ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...:size => 1, :min => 1% input id="quantity");@output_buffer.s...
...                               ^):
    25:     <td><%= link_to 'Show', product %></td>
    26:     <td><%= link_to 'Edit', edit_product_path(product) %></td>
    27:     <td><%= link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete %></td>
    28:     <form><%= number_field_tag 'quantity', nil, :size => 1, :min => 1% input id="quantity"%></td>
    29:     		
    30:     		
    31: 
  app/controllers/products_controller.rb:8:in `index'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (15.9ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (22.4ms)


Started GET "/" for 127.0.0.1 at 2012-07-17 23:51:15 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
Rendered home/show.html.erb within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:51:17 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
ERROR: compiling _app_views_products_index_html_erb___898722455712286189_2163006160_215029317096101576 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...:size => 1, :min => 1% input id="quantity");@output_buffer.s...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:52: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:54: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_products_index_html_erb___898722455712286189_2163006160_215029317096101576(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "products/index";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p>

<h1>Listing products</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th></th>
    <th>Price/m<sup>2</sup></td></th>
    <th></th>
    <th></th>
     <th></th>
    <th>Quantity</th>
  </tr>

');@output_buffer.append_if_string=  @products.each do |product| 
@output_buffer.safe_concat('  <tr class="productbuttons">
    <td>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( product.description );@output_buffer.safe_concat('</td>
    <td class="picture">');@output_buffer.append= ( link_to image_tag(product.image_url), line_items_path(:product_id=> product), :method => :post );@output_buffer.safe_concat('</td>

    
    <td class="price">');@output_buffer.append= ( number_to_currency(product.price, :unit => '€') );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <td>');@output_buffer.append= ( link_to 'Show', product );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Edit', edit_product_path(product) );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= form_tag do@output_buffer.append= ( number_field_tag 'quantity', nil, :size => 1, :min => 1% input id="quantity");@output_buffer.safe_concat('</td>
    		
    		

    
    
    
  	<td class="cartbutton">');@output_buffer.append= ( button_to 'Add to Cart', line_items_path(:product_id=> product) );@output_buffer.safe_concat('</td>
 
  </tr>
'); end 
@output_buffer.safe_concat('</table>

');@output_buffer.append_if_string=  form_tag products_path, :method => 'get' do 
@output_buffer.safe_concat('	<p>
		');@output_buffer.append= ( text_field_tag :search_query, params[:search_query] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( submit_tag "Search", :title => nil );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
'); end 
@output_buffer.safe_concat('

<br />

');@output_buffer.append= ( link_to 'New Product', new_product_path );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/products_controller.rb:8:in `index'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__484876301727666655__process_action__3170403809467826430__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered products/index.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...:size => 1, :min => 1% input id="quantity");@output_buffer.s...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:52: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:54: syntax error, unexpected $end, expecting keyword_end):
    25:     <td><%= link_to 'Show', product %></td>
    26:     <td><%= link_to 'Edit', edit_product_path(product) %></td>
    27:     <td><%= link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete %></td>
    28:     <td><%=form_tag do%><%= number_field_tag 'quantity', nil, :size => 1, :min => 1% input id="quantity"%></td>
    29:     		
    30:     		
    31: 
  app/controllers/products_controller.rb:8:in `index'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (16.5ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (23.4ms)


Started GET "/" for 127.0.0.1 at 2012-07-17 23:52:46 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
Rendered home/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:52:47 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
ERROR: compiling _app_views_products_index_html_erb___898722455712286189_2169920800_215029317096101576 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...:size => 1, :min => 1% input id="quantity");@output_buffer.s...
...                               ^
Function body:           def _app_views_products_index_html_erb___898722455712286189_2169920800_215029317096101576(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "products/index";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p>

<h1>Listing products</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th></th>
    <th>Price/m<sup>2</sup></td></th>
    <th></th>
    <th></th>
     <th></th>
    <th>Quantity</th>
  </tr>

');@output_buffer.append_if_string=  @products.each do |product| 
@output_buffer.safe_concat('  <tr class="productbuttons">
    <td>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( product.description );@output_buffer.safe_concat('</td>
    <td class="picture">');@output_buffer.append= ( link_to image_tag(product.image_url), line_items_path(:product_id=> product), :method => :post );@output_buffer.safe_concat('</td>

    
    <td class="price">');@output_buffer.append= ( number_to_currency(product.price, :unit => '€') );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <td>');@output_buffer.append= ( link_to 'Show', product );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Edit', edit_product_path(product) );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( number_field_tag 'quantity', nil, :size => 1, :min => 1% input id="quantity");@output_buffer.safe_concat('</td>
    		
    		

    
    
    
  	<td class="cartbutton">');@output_buffer.append= ( button_to 'Add to Cart', line_items_path(:product_id=> product) );@output_buffer.safe_concat('</td>
 
  </tr>
'); end 
@output_buffer.safe_concat('</table>

');@output_buffer.append_if_string=  form_tag products_path, :method => 'get' do 
@output_buffer.safe_concat('	<p>
		');@output_buffer.append= ( text_field_tag :search_query, params[:search_query] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( submit_tag "Search", :title => nil );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
'); end 
@output_buffer.safe_concat('

<br />

');@output_buffer.append= ( link_to 'New Product', new_product_path );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/products_controller.rb:8:in `index'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__484876301727666655__process_action__3170403809467826430__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered products/index.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 21ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...:size => 1, :min => 1% input id="quantity");@output_buffer.s...
...                               ^):
    25:     <td><%= link_to 'Show', product %></td>
    26:     <td><%= link_to 'Edit', edit_product_path(product) %></td>
    27:     <td><%= link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete %></td>
    28:     <td><%= number_field_tag 'quantity', nil, :size => 1, :min => 1% input id="quantity"%></td>
    29:     		
    30:     		
    31: 
  app/controllers/products_controller.rb:8:in `index'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (44.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (52.7ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:53:11 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2169723120_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.4ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (13.1ms)
Rendered carts/_cart.html.erb (18.4ms)
Rendered products/index.html.erb within layouts/application (94.6ms)
Completed 200 OK in 114ms (Views: 97.7ms | ActiveRecord: 2.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:54:22 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2162414180_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (45.4ms)
Rendered carts/_cart.html.erb (50.6ms)
Rendered products/index.html.erb within layouts/application (96.1ms)
Completed 200 OK in 115ms (Views: 99.3ms | ActiveRecord: 2.0ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:54:27 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
Completed 500 Internal Server Error in 21ms

NoMethodError (undefined method `call' for #<Class:0x00000101de55d8>):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.9ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.8ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:54:44 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2171989040_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.7ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1
Rendered line_items/_line_item.html.erb (13.6ms)
Rendered carts/_cart.html.erb (18.8ms)
Rendered products/index.html.erb within layouts/application (94.8ms)
Completed 200 OK in 114ms (Views: 97.9ms | ActiveRecord: 2.5ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:54:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Completed 404 Not Found in 19ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.2ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.4ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:56:51 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
ERROR: compiling _app_views_products_index_html_erb___898722455712286189_2155792060_215029317096101576 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected keyword_nil, expecting ')'
...quantity',params[:quantity] nil, :min => 1);@output_buffer.s...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: Can't assign to nil
...uantity',params[:quantity] nil, :min => 1);@output_buffer.sa...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...,params[:quantity] nil, :min => 1);@output_buffer.safe_conca...
...                               ^
Function body:           def _app_views_products_index_html_erb___898722455712286189_2155792060_215029317096101576(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "products/index";_old_output_buffer = @output_buffer;;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.safe_concat('<p id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</p>

<h1>Listing products</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Description</th>
    <th></th>
    <th>Price/m<sup>2</sup></td></th>
    <th></th>
    <th></th>
     <th></th>
    <th>Quantity</th>
  </tr>

');@output_buffer.append_if_string=  @products.each do |product| 
@output_buffer.safe_concat('  <tr class="productbuttons">
    <td>');@output_buffer.append= ( product.title );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( product.description );@output_buffer.safe_concat('</td>
    <td class="picture">');@output_buffer.append= ( link_to image_tag(product.image_url), line_items_path(:product_id=> product), :method => :post );@output_buffer.safe_concat('</td>

    
    <td class="price">');@output_buffer.append= ( number_to_currency(product.price, :unit => '€') );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    <td>');@output_buffer.append= ( link_to 'Show', product );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Edit', edit_product_path(product) );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete );@output_buffer.safe_concat('</td>
    <td>');@output_buffer.append= ( number_field_tag 'quantity',params[:quantity] nil, :min => 1);@output_buffer.safe_concat('</td>
    		
    		

    
    
    
  	<td class="cartbutton">');@output_buffer.append= ( button_to 'Add to Cart', line_items_path(:product_id=> product) );@output_buffer.safe_concat('</td>
 
  </tr>
'); end 
@output_buffer.safe_concat('</table>

');@output_buffer.append_if_string=  form_tag products_path, :method => 'get' do 
@output_buffer.safe_concat('	<p>
		');@output_buffer.append= ( text_field_tag :search_query, params[:search_query] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('		');@output_buffer.append= ( submit_tag "Search", :title => nil );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
'); end 
@output_buffer.safe_concat('

<br />

');@output_buffer.append= ( link_to 'New Product', new_product_path );@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/products_controller.rb:8:in `index'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__484876301727666655__process_action__3170403809467826430__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:68:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered products/index.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 20ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected keyword_nil, expecting ')'
...quantity',params[:quantity] nil, :min => 1);@output_buffer.s...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: Can't assign to nil
...uantity',params[:quantity] nil, :min => 1);@output_buffer.sa...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:28: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...,params[:quantity] nil, :min => 1);@output_buffer.safe_conca...
...                               ^):
    25:     <td><%= link_to 'Show', product %></td>
    26:     <td><%= link_to 'Edit', edit_product_path(product) %></td>
    27:     <td><%= link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete %></td>
    28:     <td><%= number_field_tag 'quantity',params[:quantity] nil, :min => 1%></td>
    29:     		
    30:     		
    31: 
  app/controllers/products_controller.rb:8:in `index'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (16.1ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (22.5ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:57:02 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
Rendered products/index.html.erb within layouts/application (14.2ms)
Completed 500 Internal Server Error in 64ms

ActionView::Template::Error (wrong number of arguments (4 for 3)):
    25:     <td><%= link_to 'Show', product %></td>
    26:     <td><%= link_to 'Edit', edit_product_path(product) %></td>
    27:     <td><%= link_to 'Destroy', product, :confirm => 'Are you sure?', :method => :delete %></td>
    28:     <td><%= number_field_tag 'quantity',params[:quantity], nil, :min => 1%></td>
    29:     		
    30:     		
    31: 
  app/views/products/index.html.erb:28:in `block in _app_views_products_index_html_erb___898722455712286189_2171793900_215029317096101576'
  app/views/products/index.html.erb:17:in `each'
  app/views/products/index.html.erb:17:in `_app_views_products_index_html_erb___898722455712286189_2171793900_215029317096101576'
  app/controllers/products_controller.rb:8:in `index'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (14.9ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:57:13 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2171851620_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 2)[0m
  [1m[35mLineItem Load (0.7ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1
Rendered line_items/_line_item.html.erb (14.7ms)
Rendered carts/_cart.html.erb (20.7ms)
Rendered products/index.html.erb within layouts/application (99.6ms)
Completed 200 OK in 120ms (Views: 102.9ms | ActiveRecord: 1.9ms)


Started POST "/carts/2" for 127.0.0.1 at 2012-07-17 23:57:18 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 2 LIMIT 1[0m
  [1m[35mLineItem Load (1.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 2)
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 2[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 3
  [1m[36mAREL (0.1ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 2[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 71ms


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:57:18 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-17 22:57:18.799590', '2012-07-17 22:57:18.799590')[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2171233700_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.7ms)
Rendered products/index.html.erb within layouts/application (78.4ms)
Completed 200 OK in 144ms (Views: 83.2ms | ActiveRecord: 3.1ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:57:21 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2155125260_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.6ms)
Rendered products/index.html.erb within layouts/application (56.9ms)
Completed 200 OK in 79ms (Views: 63.5ms | ActiveRecord: 1.0ms)


Started GET "/home/home" for 127.0.0.1 at 2012-07-17 23:57:22 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
  Parameters: {"id"=>"home"}
Rendered home/show.html.erb within layouts/application (4.8ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:57:23 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2171618840_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.8ms)
Rendered products/index.html.erb within layouts/application (80.0ms)
Completed 200 OK in 99ms (Views: 84.4ms | ActiveRecord: 1.0ms)


Started POST "/line_items?product_id=2" for 127.0.0.1 at 2012-07-17 23:57:27 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 2 LIMIT 1
Completed 404 Not Found in 17ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.7ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:57:36 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Completed 404 Not Found in 49ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (7.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.7ms)


Started GET "/products" for 127.0.0.1 at 2012-07-17 23:57:56 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2171649120_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.7ms)
Rendered products/index.html.erb within layouts/application (78.4ms)
Completed 200 OK in 98ms (Views: 82.8ms | ActiveRecord: 1.6ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-17 23:57:58 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Completed 404 Not Found in 46ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.2ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.1ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 00:00:40 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
  [1m[36mProduct Load (30.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Completed 404 Not Found in 47ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/line_items_controller.rb:45:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (38.1ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (43.8ms)


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:03:50 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (27.8ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2169515260_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (3.1ms)
Rendered products/index.html.erb within layouts/application (86.1ms)
Completed 200 OK in 156ms (Views: 112.3ms | ActiveRecord: 28.3ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 00:03:53 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 3) LIMIT 1[0m
  [1m[35mAREL (7.0ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (1, 3, '2012-07-17 23:03:53.408658', '2012-07-17 23:03:53.408658', 1, NULL)
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 129ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:03:53 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2171535500_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 3)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (12.3ms)
Rendered carts/_cart.html.erb (17.6ms)
Rendered products/index.html.erb within layouts/application (63.1ms)
Completed 200 OK in 113ms (Views: 96.7ms | ActiveRecord: 9.4ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 00:03:55 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 3) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 2, "updated_at" = '2012-07-17 23:03:55.356739' WHERE "line_items"."id" = 4[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 54ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:03:55 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2160405480_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 3)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (11.9ms)
Rendered carts/_cart.html.erb (17.0ms)
Rendered products/index.html.erb within layouts/application (62.5ms)
Completed 200 OK in 116ms (Views: 66.1ms | ActiveRecord: 2.9ms)


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:17:33 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (20.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2169989160_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)[0m
  [1m[35mLineItem Load (0.9ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 3)
  [1m[36mProduct Load (1.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (210.6ms)
Rendered carts/_cart.html.erb (217.9ms)
Rendered products/index.html.erb within layouts/application (377.5ms)
Completed 200 OK in 732ms (Views: 439.1ms | ActiveRecord: 23.3ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 00:17:38 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 3) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mUPDATE "line_items" SET "quantity" = 3, "updated_at" = '2012-07-17 23:17:38.846927' WHERE "line_items"."id" = 4[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 104ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:17:38 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2161474540_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 3)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (44.4ms)
Rendered carts/_cart.html.erb (49.8ms)
Rendered products/index.html.erb within layouts/application (137.4ms)
Completed 200 OK in 157ms (Views: 140.9ms | ActiveRecord: 2.9ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 00:17:42 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 3) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  UPDATE "line_items" SET "quantity" = 4, "updated_at" = '2012-07-17 23:17:42.438259' WHERE "line_items"."id" = 4
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 103ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:17:42 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2169836520_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 3)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (44.1ms)
Rendered carts/_cart.html.erb (49.3ms)
Rendered products/index.html.erb within layouts/application (95.0ms)
Completed 200 OK in 121ms (Views: 103.9ms | ActiveRecord: 3.0ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 00:17:44 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bdKM51L7jYd1tEOtLV3OaDScyUodPBrGjio57+GSv4M=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 3) LIMIT 1
  [1m[36mAREL (0.3ms)[0m  [1mUPDATE "line_items" SET "quantity" = 5, "updated_at" = '2012-07-17 23:17:44.354884' WHERE "line_items"."id" = 4[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 84ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:17:44 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 3 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___898722455712286189_2171280360_215029317096101576 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 3)
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 3)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (12.8ms)
Rendered carts/_cart.html.erb (18.1ms)
Rendered products/index.html.erb within layouts/application (98.5ms)
Completed 200 OK in 122ms (Views: 102.0ms | ActiveRecord: 3.2ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2012-07-18 00:49:11 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
Rendered home/show.html.erb within layouts/application (5.9ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:49:16 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (18.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.8ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-17 23:49:16.201023', '2012-07-17 23:49:16.201023')[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__3170658748047971111_2478868440_3211207731669897359 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.5ms)
Rendered products/index.html.erb within layouts/application (137.0ms)
Completed 200 OK in 389ms (Views: 155.8ms | ActiveRecord: 19.6ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 00:49:19 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 4) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (1, 4, '2012-07-17 23:49:19.210795', '2012-07-17 23:49:19.210795', 1, NULL)
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 302ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 00:49:19 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__3170658748047971111_2479402860_3211207731669897359 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mLineItem Load (0.8ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (10.1ms)
Rendered carts/_cart.html.erb (40.7ms)
Rendered products/index.html.erb within layouts/application (144.6ms)
Completed 200 OK in 198ms (Views: 150.5ms | ActiveRecord: 3.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 00:49:22 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
Rendered orders/_form.html.erb (6.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (52.2ms)
Rendered carts/_cart.html.erb (63.0ms)
Rendered orders/new.html.erb within layouts/application (90.4ms)
Completed 200 OK in 157ms (Views: 95.2ms | ActiveRecord: 1.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 00:54:25 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered orders/_form.html.erb (4.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (29.0ms)
Rendered carts/_cart.html.erb (34.0ms)
Rendered orders/new.html.erb within layouts/application (46.6ms)
Completed 200 OK in 109ms (Views: 50.4ms | ActiveRecord: 1.2ms)


Started POST "/orders/thankyou" for 127.0.0.1 at 2012-07-18 00:54:33 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#thankyou as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "post"=>{"name"=>"sdfsdf", "address"=>"sdfsdf", "email"=>"", "pay_type"=>"", "card_number"=>"", "expiry_date"=>"", "cardholder_name"=>""}, "commit"=>"Place Order"}
Rendered orders/thankyou.html.erb within layouts/application (4.6ms)
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 00:59:56 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
Rendered orders/_form.html.erb (3.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mLineItem Load (0.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (59.3ms)
Rendered carts/_cart.html.erb (65.0ms)
Rendered orders/new.html.erb within layouts/application (91.0ms)
Completed 200 OK in 152ms (Views: 95.1ms | ActiveRecord: 1.2ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:04:08 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2478873120_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected ':', expecting keyword_end
...fer.append=  form_for(@order) :post, :url => {:action => :th...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...form_for(@order) :post, :url => {:action => :thankyou} do |f...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:56: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2478873120_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order) :post, :url => {:action => :thankyou} do |f| @output_buffer.safe_concat('
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
    
    <div class="field">
    ');@output_buffer.append= ( f.label :card_number );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :card_number, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
    <div class="field">
    ');@output_buffer.append= ( f.label :expiry_date );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :expiry_date, :size => 6 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  
    <div class="field">
    ');@output_buffer.append= ( f.label :cardholder_name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :cardholder_name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  
    ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    


'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2168413980_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (56.6ms)
Rendered orders/new.html.erb within layouts/application (58.3ms)
Completed 500 Internal Server Error in 93ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected ':', expecting keyword_end
...fer.append=  form_for(@order) :post, :url => {:action => :th...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...form_for(@order) :post, :url => {:action => :thankyou} do |f...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:56: syntax error, unexpected keyword_ensure, expecting $end):
    1: <%= form_for(@order) :post, :url => {:action => :thankyou} do |f| %>
    2:   <% if @order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2168413980_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.5ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:04:35 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered orders/_form.html.erb (12.4ms)
Rendered orders/new.html.erb within layouts/application (14.0ms)
Completed 500 Internal Server Error in 48ms

ActionView::Template::Error (undefined method `card_number' for #<Order:0x0000012789f670>):
    32:     
    33:     <div class="field">
    34:     <%= f.label :card_number %><br />
    35:     <%= f.text_field :card_number, :size => 40 %>
    36:   </div>
    37:   
    38:     <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2479267800_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2479267800_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479252320_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.4ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:07:38 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered orders/_form.html.erb (17.9ms)
Rendered orders/new.html.erb within layouts/application (19.6ms)
Completed 500 Internal Server Error in 54ms

ActionView::Template::Error (undefined method `label_tag' for #<ActionView::Helpers::FormBuilder:0x0000012792dda8>):
    31:   
    32:     
    33:     <div class="field">
    34:     <%= f.label_tag :card_number %><br />
    35:     <%= f.text_field :card_number, :size => 40 %>
    36:   </div>
    37:   
  app/views/orders/_form.html.erb:34:in `block in _app_views_orders__form_html_erb___3066058232658982341_2479274920_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2479274920_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479247160_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (32.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (39.0ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:07:54 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered orders/_form.html.erb (11.9ms)
Rendered orders/new.html.erb within layouts/application (13.5ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (undefined method `card_number' for #<Order:0x000001278ac410>):
    32:     
    33:     <div class="field">
    34:     <%= f.label :card_number %><br />
    35:     <%= f.text_field :card_number, :size => 40 %>
    36:   </div>
    37:   
    38:     <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2479287340_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2479287340_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479282460_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (33.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (39.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:11:38 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered orders/_form.html.erb (12.4ms)
Rendered orders/new.html.erb within layouts/application (14.0ms)
Completed 500 Internal Server Error in 48ms

ActionView::Template::Error (undefined method `card_number' for #<Order:0x000001278aa430>):
    32:     
    33:     <div class="field">
    34:     <%= f.label ":card_number" %><br />
    35:     <%= f.text_field :card_number, :size => 40 %>
    36:   </div>
    37:   
    38:     <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2479299180_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2479299180_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479279960_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (32.5ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (39.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-18 01:14:42 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__3170658748047971111_2167575580_3211207731669897359 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (12.4ms)
Rendered carts/_cart.html.erb (17.4ms)
Rendered products/index.html.erb within layouts/application (132.6ms)
Completed 200 OK in 154ms (Views: 137.4ms | ActiveRecord: 1.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:14:47 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
Rendered orders/_form.html.erb (12.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (60.9ms)
Rendered carts/_cart.html.erb (65.8ms)
Rendered orders/new.html.erb within layouts/application (86.6ms)
Completed 200 OK in 120ms (Views: 90.3ms | ActiveRecord: 1.1ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:14:51 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
Rendered orders/_form.html.erb (12.7ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (52.5ms)
Rendered carts/_cart.html.erb (57.1ms)
Rendered orders/new.html.erb within layouts/application (78.8ms)
Completed 200 OK in 167ms (Views: 82.8ms | ActiveRecord: 1.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:18:05 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2479627360_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected ':', expecting keyword_end
...er.append=  form_for(@order)  :post, :url => {:action => :th...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...orm_for(@order)  :post, :url => {:action => :thankyou} do |f...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:40: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2479627360_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order)  :post, :url => {:action => :thankyou} do |f| @output_buffer.safe_concat('
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
    
  
    ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    


'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479620300_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (43.7ms)
Rendered orders/new.html.erb within layouts/application (45.5ms)
Completed 500 Internal Server Error in 79ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected ':', expecting keyword_end
...er.append=  form_for(@order)  :post, :url => {:action => :th...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
...orm_for(@order)  :post, :url => {:action => :thankyou} do |f...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:40: syntax error, unexpected keyword_ensure, expecting $end):
    1: <%= form_for(@order)  :post, :url => {:action => :thankyou} do |f| %>
    2:   <% if @order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479620300_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.9ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:18:31 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2479743160_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tASSOC, expecting keyword_end
...orm_for(@order), :post, :url => {:action => :thankyou} do |f...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:40: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2479743160_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order), :post, :url => {:action => :thankyou} do |f| @output_buffer.safe_concat('
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
    
  
    ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    


'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479735860_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.3ms)
Rendered orders/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tASSOC, expecting keyword_end
...orm_for(@order), :post, :url => {:action => :thankyou} do |f...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:40: syntax error, unexpected keyword_ensure, expecting $end):
    1: <%= form_for(@order), :post, :url => {:action => :thankyou} do |f| %>
    2:   <% if @order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479735860_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (32.0ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (46.5ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:19:25 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered orders/_form.html.erb (8.3ms)
Rendered orders/new.html.erb within layouts/application (10.1ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (Missing block):
    1: <%= form_for(@order) do |f| %>
    2:  <%= form_for :post, :url => {:action => :thankyou} %>
    3:   <% if @order.errors.any? %>
    4:     <div id="error_explanation">
    5:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>
  app/views/orders/_form.html.erb:2:in `block in _app_views_orders__form_html_erb___3066058232658982341_2479471500_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2479471500_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479452440_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (32.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.5ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (41.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:20:18 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2479355360_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2479355360_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order) do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat(' 
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
    
  	');@output_buffer.append= ( form_for :post, :url => {:action => :thankyou} );@output_buffer.safe_concat('
');@output_buffer.safe_concat('   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');    end
@output_buffer.safe_concat('

'); end 
@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479337940_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.3ms)
Rendered orders/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end):
    38: 
    39: <% end %>
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479337940_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (45.4ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:21:21 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2479281840_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2479281840_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order) do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat(' 
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
');  end  
@output_buffer.safe_concat('    
  	');@output_buffer.append= ( form_tag :post, :url => {:action => :thankyou} );@output_buffer.safe_concat('
');@output_buffer.safe_concat('   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');    end
@output_buffer.safe_concat('


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479264280_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.3ms)
Rendered orders/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 38ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end):
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479264280_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (8.9ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.2ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:22:59 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2479100240_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected ':', expecting keyword_end
...er.append=  form_for(@order)  :url => {:action => :thankyou}...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2479100240_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order)  :url => {:action => :thankyou} do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  
    
  	
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>

   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');    end
@output_buffer.safe_concat('


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479032700_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.3ms)
Rendered orders/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected ':', expecting keyword_end
...er.append=  form_for(@order)  :url => {:action => :thankyou}...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end):
    1: <%= form_for(@order)  :url => {:action => :thankyou} do |f| %>
    2:   
    3:     
    4:   	
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479032700_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.3ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:24:00 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2167394480_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
...nd=  form_for(@order), method :post,  :url => {:action => :t...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2167394480_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order), method :post,  :url => {:action => :thankyou} do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  
    
  	
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>

   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');    end
@output_buffer.safe_concat('


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2167379000_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.3ms)
Rendered orders/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 37ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
...nd=  form_for(@order), method :post,  :url => {:action => :t...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end):
    1: <%= form_for(@order), method :post,  :url => {:action => :thankyou} do |f| %>
    2:   
    3:     
    4:   	
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2167379000_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:24:37 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2166413100_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tASSOC, expecting keyword_end
...=  form_for(@order), :method => :post,  :url => {:action => ...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2166413100_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order), :method => :post,  :url => {:action => :thankyou} do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  
    
  	
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>

   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');    end
@output_buffer.safe_concat('


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2167483560_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.3ms)
Rendered orders/new.html.erb within layouts/application (2.8ms)
Completed 500 Internal Server Error in 67ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected tASSOC, expecting keyword_end
...=  form_for(@order), :method => :post,  :url => {:action => ...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:1: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |f| @output_buffer.safe_conc...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:41: syntax error, unexpected keyword_ensure, expecting $end):
    1: <%= form_for(@order), :method => :post,  :url => {:action => :thankyou} do |f| %>
    2:   
    3:     
    4:   	
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2167483560_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.0ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.4ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:32:20 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2164680940_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:40: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:42: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2164680940_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order) do |f| @output_buffer.safe_concat('
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
	');@output_buffer.append=  f.fields_for :url => {:action => :thankyou} do |orders_form| @output_buffer.safe_concat('
');@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>

   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');    end
@output_buffer.safe_concat('


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2166685900_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (12.7ms)
Rendered orders/new.html.erb within layouts/application (14.6ms)
Completed 500 Internal Server Error in 81ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:40: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:42: syntax error, unexpected $end, expecting keyword_end):
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2166685900_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.5ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.0ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:35:51 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2164975100_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:14: syntax error, unexpected ':', expecting keyword_end
....append=  f.fields_for :order :url => {:action => :thankyou}...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:14: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |orders_form| @output_buffer...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:37: syntax error, unexpected keyword_end, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2164975100_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order) do |f| @output_buffer.safe_concat('
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
	');@output_buffer.append=  f.fields_for :order :url => {:action => :thankyou} do |orders_form| @output_buffer.safe_concat('
');@output_buffer.safe_concat('
  
    ');@output_buffer.append= ( orders_form.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
');    end
@output_buffer.safe_concat('
   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');        end
    end
@output_buffer.safe_concat('



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2155250980_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.4ms)
Rendered orders/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 68ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:14: syntax error, unexpected ':', expecting keyword_end
....append=  f.fields_for :order :url => {:action => :thankyou}...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:14: syntax error, unexpected keyword_do_block, expecting keyword_end
...rl => {:action => :thankyou} do |orders_form| @output_buffer...
...                               ^
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:37: syntax error, unexpected keyword_end, expecting $end):
    11:     </div>
    12:   <% end %>
    13: 
    14: 	<%= f.fields_for :order :url => {:action => :thankyou} do |orders_form| %>
    15: 
    16:   
    17:     <%= orders_form.label :name %><br />
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2155250980_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.2ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.6ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:36:21 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2165545880_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:43: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2165545880_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order) do |f| @output_buffer.safe_concat('
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
	');@output_buffer.append=  f.fields_for :url => {:action => :thankyou} do |orders_form| @output_buffer.safe_concat('
');@output_buffer.safe_concat('
  
    ');@output_buffer.append= ( orders_form.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
');    end
@output_buffer.safe_concat('
   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');        end
    end
@output_buffer.safe_concat('



');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2165511900_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.3ms)
Rendered orders/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 69ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:43: syntax error, unexpected keyword_ensure, expecting $end):
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2165511900_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.4ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.3ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:36:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered orders/_form.html.erb (8.5ms)
Rendered orders/new.html.erb within layouts/application (10.2ms)
Completed 500 Internal Server Error in 75ms

ActionView::Template::Error (Missing block):
    1: <%= form_for(@order) do |f| %>
    2:   
    3:     
    4:   	<%= form_for :post, :url => {:action => :thankyou} %>
    5:   <% if @order.errors.any? %>
    6:     <div id="error_explanation">
    7:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>
  app/views/orders/_form.html.erb:4:in `block in _app_views_orders__form_html_erb___3066058232658982341_2165430680_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2165430680_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2165387900_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.5ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:44:04 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
Completed 500 Internal Server Error in 62ms

NameError (undefined local variable or method `client' for #<Class:0x000001279df508>):
  app/models/order.rb:8:in `<class:Order>'
  app/models/order.rb:1:in `<top (required)>'
  app/controllers/orders_controller.rb:33:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.4ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:45:42 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
Rendered orders/_form.html.erb (37.8ms)
Rendered orders/new.html.erb within layouts/application (39.5ms)
Completed 500 Internal Server Error in 73ms

ActionView::Template::Error (Missing block):
    1: <%= form_for(@order) do |f| %>
    2:   
    3:     
    4:   	<%= form_for :post, :url => {:action => :thankyou} %>
    5:   <% if @order.errors.any? %>
    6:     <div id="error_explanation">
    7:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>
  app/views/orders/_form.html.erb:4:in `block in _app_views_orders__form_html_erb___3066058232658982341_2479632680_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2479632680_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479626500_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.4ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:46:00 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
Rendered orders/_form.html.erb (11.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mLineItem Load (0.7ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (29.8ms)
Rendered carts/_cart.html.erb (65.8ms)
Rendered orders/new.html.erb within layouts/application (241.6ms)
Completed 200 OK in 286ms (Views: 256.0ms | ActiveRecord: 1.3ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:46:10 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"ewrwe", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
Rendered orders/_form.html.erb (12.4ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (55.3ms)
Rendered carts/_cart.html.erb (60.0ms)
Rendered orders/new.html.erb within layouts/application (81.1ms)
Completed 200 OK in 171ms (Views: 85.1ms | ActiveRecord: 1.2ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 01:52:22 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)
Rendered orders/_form.html.erb (11.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (60.2ms)
Rendered carts/_cart.html.erb (65.1ms)
Rendered orders/new.html.erb within layouts/application (84.2ms)
Completed 200 OK in 119ms (Views: 87.9ms | ActiveRecord: 1.1ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:52:27 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
Rendered orders/_form.html.erb (13.3ms)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (53.4ms)
Rendered carts/_cart.html.erb (57.7ms)
Rendered orders/new.html.erb within layouts/application (79.8ms)
Completed 200 OK in 165ms (Views: 83.9ms | ActiveRecord: 1.1ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:52:38 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"aSas", "address"=>"ASas", "email"=>"ASas", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mAREL (15.0ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('aSas', 'ASas', 'ASas', 'Mastercard', '2012-07-18 00:52:38.273370', '2012-07-18 00:52:38.273370')
  [1m[36mAREL (0.2ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 1, "updated_at" = '2012-07-18 00:52:38.325219' WHERE "line_items"."id" = 5[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 4)[0m
  [1m[35mAREL (0.3ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 4
Rendered order_notifier/received.text.erb (2.3ms)
Completed 500 Internal Server Error in 2138ms

ActionView::Template::Error (Missing partial line_items/line_item with {:handlers=>[:erb, :rjs, :builder, :rhtml, :rxml], :formats=>[:text], :locale=>[:en]} in view paths "/Users/amymc/programming/server_side/thematerialmatter/shop/app/views"):
    4: 
    5: Thank you for your recent order from The Material Matter Store.
    6: 
    7: I will send you a seperate email when your order of <%= render @order.line_items%> ships.
    8: 
    9: Kathy.
  app/views/order_notifier/received.text.erb:7:in `_app_views_order_notifier_received_text_erb___3777045556862283280_2167179080_3211207731669897359'
  app/mailers/order_notifier.rb:12:in `received'
  app/controllers/orders_controller.rb:55:in `block in create'
  app/controllers/orders_controller.rb:51:in `create'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (4.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.9ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:53:32 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 4 LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 00:53:32.952404', '2012-07-18 00:53:32.952404')
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 5)[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 5 LIMIT 1
Rendered orders/_form.html.erb (12.8ms)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 5)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (3.0ms)
Rendered orders/new.html.erb within layouts/application (28.1ms)
Completed 200 OK in 119ms (Views: 32.4ms | ActiveRecord: 1.2ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:53:44 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qwdqe", "address"=>"qweqwe", "email"=>"qweqwe", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 5 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 5)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qwdqe', 'qweqwe', 'qweqwe', 'Mastercard', '2012-07-18 00:53:44.144562', '2012-07-18 00:53:44.144562')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 5 LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 5)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 5[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 2)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.6ms)

Sent mail to qweqwe (28ms)
Date: Wed, 18 Jul 2012 01:53:44 +0100
From: mooneykathy@gmail.com
To: qweqwe
Message-ID: <500609184085d_14c93d028a052321@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qwdqe, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000/orders
Completed 406 Not Acceptable in 163ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:54:12 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qwdqe", "address"=>"qweqwe", "email"=>"qweqwe", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 00:54:12.221962', '2012-07-18 00:54:12.221962')[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 6)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qwdqe', 'qweqwe', 'qweqwe', 'Mastercard', '2012-07-18 00:54:12.235754', '2012-07-18 00:54:12.235754')[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 6 LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 6)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 6
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 3)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.6ms)

Sent mail to qweqwe (4ms)
Date: Wed, 18 Jul 2012 01:54:12 +0100
From: mooneykathy@gmail.com
To: qweqwe
Message-ID: <50060934413a5_14c93d028a052444@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qwdqe, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000/orders
Completed 406 Not Acceptable in 107ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:54:28 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 00:54:28.413612', '2012-07-18 00:54:28.413612')
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 7)[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 7 LIMIT 1
Rendered orders/_form.html.erb (12.7ms)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 7)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (3.0ms)
Rendered orders/new.html.erb within layouts/application (27.9ms)
Completed 200 OK in 116ms (Views: 32.3ms | ActiveRecord: 4.3ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:54:36 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qweqwe", "address"=>"qweqwe", "email"=>"qweqwe", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 7 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 7)[0m
  [1m[35mAREL (64.0ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qweqwe', 'qweqwe', 'qweqwe', 'Mastercard', '2012-07-18 00:54:36.390143', '2012-07-18 00:54:36.390143')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 7 LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 7)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 7[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 4)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.5ms)

Sent mail to qweqwe (4ms)
Date: Wed, 18 Jul 2012 01:54:36 +0100
From: mooneykathy@gmail.com
To: qweqwe
Message-ID: <5006094c7776c_14c93d028a052549@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qweqwe, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000/orders
Completed 406 Not Acceptable in 169ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:56:21 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qweqwe", "address"=>"qweqwe", "email"=>"qweqwe", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 00:56:21.332338', '2012-07-18 00:56:21.332338')[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 8)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qweqwe', 'qweqwe', 'qweqwe', 'Mastercard', '2012-07-18 00:56:21.345677', '2012-07-18 00:56:21.345677')[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 8 LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 8)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 8
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 5)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.5ms)

Sent mail to qweqwe (4ms)
Date: Wed, 18 Jul 2012 01:56:21 +0100
From: mooneykathy@gmail.com
To: qweqwe
Message-ID: <500609b55c871_14c8100d55852696@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qweqwe, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000/orders?redirect=%2Fthankyou
Completed 406 Not Acceptable in 112ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:58:25 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qweqwe", "address"=>"qweqwe", "email"=>"qweqwe", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 00:58:25.650355', '2012-07-18 00:58:25.650355')
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 9)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qweqwe', 'qweqwe', 'qweqwe', 'Mastercard', '2012-07-18 00:58:25.663990', '2012-07-18 00:58:25.663990')
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 9 LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 9)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 9[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 6)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (3.2ms)

Sent mail to qweqwe (4ms)
Date: Wed, 18 Jul 2012 01:58:25 +0100
From: mooneykathy@gmail.com
To: qweqwe
Message-ID: <50060a31a9da7_14c80ca2df05275f@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qweqwe, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000orders/thankyou
Completed 406 Not Acceptable in 110ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:58:50 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 00:58:50.975431', '2012-07-18 00:58:50.975431')[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 10)
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 10 LIMIT 1[0m
Rendered orders/_form.html.erb (12.8ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 10)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (3.1ms)
Rendered orders/new.html.erb within layouts/application (93.6ms)
Completed 200 OK in 188ms (Views: 97.8ms | ActiveRecord: 1.1ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 01:58:59 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 10 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 10)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 00:58:59.914042', '2012-07-18 00:58:59.914042')[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 10 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 10)[0m
  [1m[35mAREL (0.3ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 10
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 7)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.8ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 01:58:59 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060a53e81f7_14c812a4be052824@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Completed 406 Not Acceptable in 108ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:00:47 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mAREL (25.9ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:00:47.932527', '2012-07-18 01:00:47.932527')
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 11)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:00:47.975968', '2012-07-18 01:00:47.975968')
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 11 LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 11)
  [1m[36mAREL (0.3ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 11[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 8)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.9ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:00:48 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060ac02cbd_14c93d163a0529c7@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000orders/thankyou
Completed 406 Not Acceptable in 144ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:01:12 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:01:12.333551', '2012-07-18 01:01:12.333551')[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 12)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:01:12.347006', '2012-07-18 01:01:12.347006')[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 12 LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 12)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 12
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 9)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.6ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:01:12 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060ad85c901_14c8128dea4530a7@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000orders/thankyou.html.erb
Completed 406 Not Acceptable in 110ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:01:46 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:01:46.394146', '2012-07-18 01:01:46.394146')
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 13)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:01:46.408156', '2012-07-18 01:01:46.408156')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 13 LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 13)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 13[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 10)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (3.8ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:01:46 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060afa6be7f_14c93d8dcd453143@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000orders/thankyou.html.erb
Completed 406 Not Acceptable in 111ms


Started GET "/orders" for 127.0.0.1 at 2012-07-18 02:03:56 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.6ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
Rendered orders/index.html.erb within layouts/application (53.2ms)
Completed 200 OK in 135ms (Views: 127.3ms | ActiveRecord: 0.6ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:04:04 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:04:04.410188', '2012-07-18 01:04:04.410188')
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 14)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:04:04.423468', '2012-07-18 01:04:04.423468')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 14 LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 14)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 14[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 11)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.6ms)

Sent mail to qw (5ms)
Date: Wed, 18 Jul 2012 02:04:04 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060b847818b_14c93cbebb45329a@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000/orders/thankyou
Completed 406 Not Acceptable in 111ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:04:09 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:04:09.689923', '2012-07-18 01:04:09.689923')[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 15)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:04:09.723283', '2012-07-18 01:04:09.723283')[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 15 LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 15)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 15
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 12)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (40.1ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:04:09 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060b89c158e_14c93cbebb45337b@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000/orders/thankyou
Completed 406 Not Acceptable in 131ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:04:57 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:04:57.734165', '2012-07-18 01:04:57.734165')
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 16)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:04:57.746937', '2012-07-18 01:04:57.746937')
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 16 LIMIT 1[0m
  [1m[35mLineItem Load (0.1ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 16)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 16[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 13)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.7ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:04:57 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060bb9c7aab_14c8114982c53444@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000/orders/thankyou
Completed 406 Not Acceptable in 113ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:05:02 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:05:02.152237', '2012-07-18 01:05:02.152237')[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 17)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:05:02.164795', '2012-07-18 01:05:02.164795')[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 17 LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 17)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 17
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 14)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.5ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:05:02 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060bbe39f2d_14c8114982c5354e@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Redirected to http://127.0.0.1:3000/orders/thankyou
Completed 406 Not Acceptable in 114ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:06:29 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts

SyntaxError (/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:56: syntax error, unexpected tASSOC, expecting '}'
      	 	redirect_to {:action => "thankyou"}
      	 	                       ^):
  

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.4ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.4ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:07:28 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:07:28.877327', '2012-07-18 01:07:28.877327')
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 18)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:07:28.982290', '2012-07-18 01:07:28.982290')
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 18 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 18)
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 18[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 15)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.5ms)

Sent mail to qw (5ms)
Date: Wed, 18 Jul 2012 02:07:29 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060c514448_14c93d06fe05366a@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Rendered orders/thankyou.html.erb within layouts/application (4.6ms)
Completed 406 Not Acceptable in 178ms (Views: 9.3ms | ActiveRecord: 2.1ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:07:33 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:07:33.867089', '2012-07-18 01:07:33.867089')[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 19)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:07:33.881602', '2012-07-18 01:07:33.881602')[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 19 LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 19)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 19
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 16)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.7ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:07:33 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060c55df4dc_14c93d06fe05371c@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Rendered orders/thankyou.html.erb within layouts/application (4.7ms)
Completed 406 Not Acceptable in 121ms (Views: 9.4ms | ActiveRecord: 1.8ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:09:40 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mAREL (26.1ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:09:40.607814', '2012-07-18 01:09:40.607814')
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 20)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:09:40.648043', '2012-07-18 01:09:40.648043')
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 20 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 20)
  [1m[36mAREL (0.3ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 20[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 17)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.7ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:09:40 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060cd4afa4b_14c8128e084538c5@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Completed 406 Not Acceptable in 178ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:10:08 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:10:08.900621', '2012-07-18 01:10:08.900621')[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 21)
  [1m[36mAREL (0.7ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:10:08.914050', '2012-07-18 01:10:08.914050')[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 21 LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 21)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 21
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 18)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.5ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:10:08 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060cf0e7a72_14c8128e084539fb@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Completed 406 Not Acceptable in 114ms


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:12:23 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"qw", "address"=>"qw", "email"=>"qw", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:12:23.214910', '2012-07-18 01:12:23.214910')
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 22)[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('qw', 'qw', 'qw', 'Mastercard', '2012-07-18 01:12:23.229496', '2012-07-18 01:12:23.229496')
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 22 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 22)
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 22[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 19)
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.7ms)

Sent mail to qw (4ms)
Date: Wed, 18 Jul 2012 02:12:23 +0100
From: mooneykathy@gmail.com
To: qw
Message-ID: <50060d774058a_14c8128a60054056@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear qw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Rendered orders/thankyou.html.erb within layouts/application (33.9ms)
Completed 200 OK in 153ms (Views: 38.6ms | ActiveRecord: 1.9ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:12:46 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"ewfrwerw", "address"=>"erwerewrw", "email"=>"erwerer", "pay_type"=>"Mastercard"}, "commit"=>"Place Order"}
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:12:46.257414', '2012-07-18 01:12:46.257414')[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 23)
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES ('ewfrwerw', 'erwerewrw', 'erwerer', 'Mastercard', '2012-07-18 01:12:46.271004', '2012-07-18 01:12:46.271004')[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 23 LIMIT 1
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 23)[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 23
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 20)[0m
Rendered collection (0.0ms)
Rendered order_notifier/received.text.erb (2.5ms)

Sent mail to erwerer (4ms)
Date: Wed, 18 Jul 2012 02:12:46 +0100
From: mooneykathy@gmail.com
To: erwerer
Message-ID: <50060d8e4a61d_14c8128a6005416c@178.167.204.193.threembb.ie.mail>
Subject: The Material Matter Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

OrderNotifier#received

Dear ewfrwerw, 

Thank you for your recent order from The Material Matter Store.

I will send you a seperate email when your order of  ships.

Kathy.
Rendered orders/thankyou.html.erb within layouts/application (4.5ms)
Completed 200 OK in 124ms (Views: 9.1ms | ActiveRecord: 1.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:12:50 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:12:50.147995', '2012-07-18 01:12:50.147995')
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 24)[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 65ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 02:12:50 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (14.8ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 24 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__3170658748047971111_2160480240_3211207731669897359 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 24)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.8ms)
Rendered products/index.html.erb within layouts/application (86.4ms)
Completed 200 OK in 120ms (Views: 90.6ms | ActiveRecord: 15.8ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 02:12:53 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 24 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 24) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (1, 24, '2012-07-18 01:12:54.057787', '2012-07-18 01:12:54.057787', 1, NULL)
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 90ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 02:12:54 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 24 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__3170658748047971111_2164375840_3211207731669897359 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 24)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 24)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (12.3ms)
Rendered carts/_cart.html.erb (55.7ms)
Rendered products/index.html.erb within layouts/application (106.6ms)
Completed 200 OK in 166ms (Views: 110.4ms | ActiveRecord: 2.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:12:56 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 24 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 24)[0m
Rendered orders/_form.html.erb (11.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 24)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 24)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (69.0ms)
Rendered carts/_cart.html.erb (73.9ms)
Rendered orders/new.html.erb within layouts/application (93.0ms)
Completed 200 OK in 128ms (Views: 96.7ms | ActiveRecord: 1.1ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 02:12:59 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 24 LIMIT 1[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 24)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 24 LIMIT 1[0m
Rendered orders/_form.html.erb (13.1ms)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 24)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 24)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (60.7ms)
Rendered carts/_cart.html.erb (65.5ms)
Rendered orders/new.html.erb within layouts/application (87.9ms)
Completed 200 OK in 183ms (Views: 92.2ms | ActiveRecord: 1.1ms)


Started POST "/carts/24" for 127.0.0.1 at 2012-07-18 02:13:55 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "id"=>"24"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 24 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 24)
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 6[0m
  [1m[35mAREL (0.2ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 24
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 68ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 02:13:55 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 01:13:55.892230', '2012-07-18 01:13:55.892230')
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__3170658748047971111_2165058500_3211207731669897359 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.7ms)
Rendered products/index.html.erb within layouts/application (45.3ms)
Completed 200 OK in 114ms (Views: 49.6ms | ActiveRecord: 2.3ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 02:15:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"OERmwojbBhn4Y6HeHz7qWQkUchND6RzbbLpYy1MPVjw=", "product_id"=>"1"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 25) LIMIT 1
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (1, 25, '2012-07-18 01:15:49.176779', '2012-07-18 01:15:49.176779', 1, NULL)[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 98ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 02:15:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb__3170658748047971111_2165935300_3211207731669897359 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (50.1ms)
Rendered carts/_cart.html.erb (55.9ms)
Rendered products/index.html.erb within layouts/application (104.1ms)
Completed 200 OK in 162ms (Views: 107.6ms | ActiveRecord: 2.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:15:50 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)
Rendered orders/_form.html.erb (11.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 25)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (69.7ms)
Rendered carts/_cart.html.erb (74.6ms)
Rendered orders/new.html.erb within layouts/application (94.2ms)
Completed 200 OK in 128ms (Views: 97.8ms | ActiveRecord: 1.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:17:46 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
Rendered orders/_form.html.erb (13.2ms)
Rendered orders/new.html.erb within layouts/application (14.9ms)
Completed 500 Internal Server Error in 89ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x000001024ff7b0>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   </div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2165318260_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2165318260_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2165224800_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:28:37 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
ERROR: compiling _app_views_orders__form_html_erb___3066058232658982341_2165369520_3766458994606656286 RAISED /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:39: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
... f.label :card_number,  value :card_number );@output_buffer....
...                               ^
Function body:           def _app_views_orders__form_html_erb___3066058232658982341_2165369520_3766458994606656286(local_assigns)
            _old_virtual_path, @_virtual_path = @_virtual_path, "orders/_form";_old_output_buffer = @output_buffer;form = local_assigns[:form];;@output_buffer = ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@order) do |f| @output_buffer.safe_concat('
');@output_buffer.safe_concat('  
');   if @order.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@order.errors.count, "error") );@output_buffer.safe_concat(' prohibited this order from being saved:</h2>

      <ul>
');@output_buffer.append_if_string=        @order.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.label :name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :address );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_area :address, :rows => 3, :cols => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :email );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :email, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
  <div class="field">
  ');@output_buffer.append= (f.label :pay_type );@output_buffer.safe_concat('<br/>
  ');@output_buffer.append= (f.select :pay_type, Order::PAYMENT_TYPES, :prompt=>"select a payment method" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
    <div class="field">
    ');@output_buffer.append= ( f.label :cardholder_name );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :cardholder_name, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  	</div>
  
   <div class="field">
    ');@output_buffer.append= ( f.label :card_number,  value :card_number );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :card_number, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  
   <div class="field">
    ');@output_buffer.append= ( f.label :expiry_date );@output_buffer.safe_concat('<br />
    ');@output_buffer.append= ( f.text_field :expiry_date, :size => 40 );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>

   	 ');@output_buffer.append= ( f.submit 'Place Order' );@output_buffer.safe_concat('
');    end
@output_buffer.safe_concat('


');@output_buffer.to_s
          ensure
            @_virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `module_eval'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:258:in `compile'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:134:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:333:in `render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:262:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:260:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/partials.rb:378:in `_render_partial'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:31:in `render'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2154459620_3211207731669897359'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:135:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:54:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/template.rb:127:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:59:in `block in _render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:56:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_view/render/rendering.rb:26:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:115:in `_render_template'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:109:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/renderers.rb:47:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/compatibility.rb:55:in `render_to_body'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:102:in `render_to_string'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:93:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:17:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/railties/controller_runtime.rb:15:in `cleanup_view_runtime'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:39:in `render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:261:in `block in retrieve_response_from_mimes'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/mime_responds.rb:192:in `respond_to'
/Users/amymc/programming/server_side/thematerialmatter/shop/app/controllers/orders_controller.rb:34:in `new'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:150:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rendering.rb:11:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:436:in `_run__876223923359021885__process_action__50441805559187458__callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:410:in `_run_process_action_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:94:in `run_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/callbacks.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rescue.rb:17:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `block in instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/notifications.rb:52:in `instrument'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/base.rb:119:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/abstract_controller/rendering.rb:41:in `process'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:138:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_controller/metal.rb:178:in `block in action'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:62:in `dispatch'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:27:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:148:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:93:in `block in recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/code_generation.rb:92:in `recognize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-mount-0.6.14/lib/rack/mount/route_set.rb:139:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/routing/route_set.rb:493:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/server.rb:33:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:16:in `_call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/barista-1.2.1/lib/barista/filter.rb:9:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/head.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/methodoverride.rb:24:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/flash.rb:182:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/session/abstract_store.rb:149:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/cookies.rb:302:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:32:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/query_cache.rb:28:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:12:in `cache'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/query_cache.rb:31:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-3.0.10/lib/active_record/connection_adapters/abstract/connection_pool.rb:354:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:46:in `block in call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/callbacks.rb:416:in `_run_call_callbacks'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/callbacks.rb:44:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/sendfile.rb:106:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/logger.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/runtime.rb:17:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-3.0.10/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `block in call'
<internal:prelude>:10:in `synchronize'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/lock.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/static.rb:30:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:168:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/application.rb:77:in `method_missing'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/railties-3.0.10/lib/rails/rack/log_tailer.rb:14:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/content_length.rb:13:in `call'
/Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.2.5/lib/rack/handler/webrick.rb:52:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/Users/amymc/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
Rendered orders/_form.html.erb (1.6ms)
Rendered orders/new.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 80ms

ActionView::Template::Error (/Users/amymc/programming/server_side/thematerialmatter/shop/app/views/orders/_form.html.erb:39: syntax error, unexpected tSYMBEG, expecting keyword_do or '{' or '('
... f.label :card_number,  value :card_number );@output_buffer....
...                               ^):
    36:   	</div>
    37:   
    38:    <div class="field">
    39:     <%= f.label :card_number,  value :card_number %><br />
    40:     <%= f.text_field :card_number, :size => 40 %>
    41:   </div>
    42:   
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2154459620_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (9.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.3ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:29:07 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
Rendered orders/_form.html.erb (13.2ms)
Rendered orders/new.html.erb within layouts/application (15.0ms)
Completed 500 Internal Server Error in 85ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x00000127b801a0>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   	</div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2479756940_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2479756940_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2480370940_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.9ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:32:07 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
Rendered orders/_form.html.erb (51.8ms)
Rendered orders/new.html.erb within layouts/application (53.6ms)
Completed 500 Internal Server Error in 88ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x000001027dc8e8>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   	</div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2481220200_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2481220200_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2161281400_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.0ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:33:41 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.1ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
Rendered orders/_form.html.erb (50.6ms)
Rendered orders/new.html.erb within layouts/application (52.3ms)
Completed 500 Internal Server Error in 86ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x00000127b799e0>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   	</div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2480617160_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2480617160_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2168396640_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.1ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:35:45 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
Rendered orders/_form.html.erb (54.4ms)
Rendered orders/new.html.erb within layouts/application (56.0ms)
Completed 500 Internal Server Error in 90ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x000001027ade80>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   	</div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2168362860_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2168362860_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2480679520_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.3ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.8ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:35:52 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
Rendered orders/_form.html.erb (13.4ms)
Rendered orders/new.html.erb within layouts/application (15.1ms)
Completed 500 Internal Server Error in 85ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x000001027b0658>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   	</div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2154412080_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2154412080_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2153686220_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.2ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.5ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 02:42:49 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 25 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 25)[0m
Rendered orders/_form.html.erb (12.5ms)
Rendered orders/new.html.erb within layouts/application (14.4ms)
Completed 500 Internal Server Error in 87ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x00000101911a70>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   	</div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___3066058232658982341_2165541380_3766458994606656286'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___3066058232658982341_2165541380_3766458994606656286'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3492133275599675970_2479906240_3211207731669897359'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.5ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (9.7ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)


Started GET "/" for 127.0.0.1 at 2012-07-18 21:17:10 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by HomeController#show as HTML
Rendered home/show.html.erb within layouts/application (6.3ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)


Started GET "/products" for 127.0.0.1 at 2012-07-18 21:17:17 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (26.5ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.8ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 20:17:17.509218', '2012-07-18 20:17:17.509218')[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___4125321416610528494_2479618360_2806373463077345539 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 26)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.9ms)
Rendered products/index.html.erb within layouts/application (235.2ms)
Completed 200 OK in 642ms (Views: 257.0ms | ActiveRecord: 27.8ms)


Started POST "/line_items?product_id=1" for 127.0.0.1 at 2012-07-18 21:17:26 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Xqf5VZ9N0Y7lUULmpsXHdWvzRiHTsPKdu6X6JF8VFcY=", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 1 AND ("line_items".cart_id = 26) LIMIT 1[0m
  [1m[35mAREL (0.4ms)[0m  INSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (1, 26, '2012-07-18 20:17:26.219103', '2012-07-18 20:17:26.219103', 1, NULL)
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 104ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 21:17:26 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___4125321416610528494_2479807060_2806373463077345539 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 26)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 26)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (6.3ms)
Rendered carts/_cart.html.erb (29.0ms)
Rendered products/index.html.erb within layouts/application (103.2ms)
Completed 200 OK in 123ms (Views: 107.1ms | ActiveRecord: 2.7ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 21:17:28 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 26)[0m
Rendered orders/_form.html.erb (40.8ms)
Rendered orders/new.html.erb within layouts/application (64.2ms)
Completed 500 Internal Server Error in 119ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x00000101781b38>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   	</div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb__2586072304949366957_2479372040__2949725815583586400'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb__2586072304949366957_2479372040__2949725815583586400'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb___3805211828745697478_2479267800_2806373463077345539'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (32.4ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (40.5ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 21:48:13 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mSQL (0.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 26)[0m
Rendered orders/_form.html.erb (23.7ms)
Rendered orders/new.html.erb within layouts/application (50.5ms)
Completed 500 Internal Server Error in 162ms

ActionView::Template::Error (undefined method `cardholder_name' for #<Order:0x0000010366db00>):
    32:   
    33:     <div class="field">
    34:     <%= f.label :cardholder_name %><br />
    35:     <%= f.text_field :cardholder_name, :size => 40 %>
    36:   	</div>
    37:   
    38:    <div class="field">
  app/views/orders/_form.html.erb:35:in `block in _app_views_orders__form_html_erb___4061363829299435608_2176115840__1400580941066248170'
  app/views/orders/_form.html.erb:1:in `_app_views_orders__form_html_erb___4061363829299435608_2176115840__1400580941066248170'
  app/views/orders/new.html.erb:4:in `_app_views_orders_new_html_erb__3859445274714538206_2176110420_3071854197134868353'
  app/controllers/orders_controller.rb:34:in `new'

Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (3.6ms)
Rendered /Users/amymc/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-3.0.10/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (10.8ms)
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from <top (required)> at /Users/amymc/programming/server_side/thematerialmatter/shop/config/environment.rb:5)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.2ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (22.7ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreateProducts (20120630155443)
Migrating to CreateCarts (20120630191124)
Migrating to CreateLineItems (20120630194622)
Migrating to AddQuantityToLineItem (20120630214606)
Migrating to CombineItemsInCart (20120701000509)
Migrating to CreateOrders (20120707152640)
Migrating to AddOrderIdToLineItem (20120707152717)
Migrating to AddCardholderNameToOrders (20120718204603)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (28.7ms)[0m  [1mALTER TABLE "orders" ADD "cardholder_name" varchar(255)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120718204603')
Migrating to AddCardNumberToOrders (20120718204712)
  [1m[36mSQL (0.6ms)[0m  [1mALTER TABLE "orders" ADD "card_number" integer[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120718204712')
Migrating to AddExpiryDateToOrders (20120718204755)
  [1m[36mSQL (0.5ms)[0m  [1mALTER TABLE "orders" ADD "expiry_date" integer[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20120718204755')
  [1m[36mSQL (0.3ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("carts")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("line_items")
  [1m[36mSQL (0.0ms)[0m  [1mPRAGMA index_list("orders")[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("products")


Started GET "/products" for 127.0.0.1 at 2012-07-18 21:49:34 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (3.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3633689079467273073_2158527400_3071854197134868353 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 26)
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 26)[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1
Rendered line_items/_line_item.html.erb (6.9ms)
Rendered carts/_cart.html.erb (18.6ms)
Rendered products/index.html.erb within layouts/application (65.5ms)
Completed 200 OK in 118ms (Views: 69.7ms | ActiveRecord: 4.4ms)


Started GET "/orders/new" for 127.0.0.1 at 2012-07-18 21:49:37 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 26)
Rendered orders/_form.html.erb (15.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 26)[0m
  [1m[35mLineItem Load (0.5ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 26)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (53.9ms)
Rendered carts/_cart.html.erb (64.4ms)
Rendered orders/new.html.erb within layouts/application (88.9ms)
Completed 200 OK in 151ms (Views: 93.0ms | ActiveRecord: 1.1ms)


Started POST "/orders" for 127.0.0.1 at 2012-07-18 21:56:42 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Xqf5VZ9N0Y7lUULmpsXHdWvzRiHTsPKdu6X6JF8VFcY=", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"Laser", "cardholder_name"=>"", "card_number"=>"", "expiry_date"=>""}, "commit"=>"Place Order"}
  [1m[35mCart Load (0.2ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1
  [1m[36mLineItem Load (0.5ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1
Rendered orders/_form.html.erb (17.4ms)
  [1m[36mSQL (0.3ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 26)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 1 LIMIT 1[0m
Rendered line_items/_line_item.html.erb (53.6ms)
Rendered carts/_cart.html.erb (58.3ms)
Rendered orders/new.html.erb within layouts/application (117.4ms)
Completed 200 OK in 246ms (Views: 124.1ms | ActiveRecord: 1.3ms)


Started POST "/carts/26" for 127.0.0.1 at 2012-07-18 21:57:04 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Xqf5VZ9N0Y7lUULmpsXHdWvzRiHTsPKdu6X6JF8VFcY=", "id"=>"26"}
  [1m[35mCart Load (0.3ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 26 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 26)[0m
  [1m[35mAREL (44.5ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 8
  [1m[36mAREL (0.2ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 26[0m
Redirected to http://127.0.0.1:3000/products
Completed 302 Found in 81ms


Started GET "/products" for 127.0.0.1 at 2012-07-18 21:57:04 +0100
[Barista] Compiling all scripts for barista
[Barista] Compiling all coffeescripts
[Barista] Copying all javascripts
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36mAREL (0.4ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2012-07-18 20:57:04.611686', '2012-07-18 20:57:04.611686')[0m
DEPRECATION WARNING: <% %> style block helpers are deprecated. Please use <%= %>. (called from _app_views_products_index_html_erb___3633689079467273073_2155367960_3071854197134868353 at /Users/amymc/programming/server_side/thematerialmatter/shop/app/views/products/index.html.erb:41)
  [1m[35mSQL (0.2ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 27)
Rendered collection (0.0ms)
Rendered carts/_cart.html.erb (2.5ms)
Rendered products/index.html.erb within layouts/application (44.1ms)
Completed 200 OK in 113ms (Views: 48.4ms | ActiveRecord: 46.6ms)
